<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/jquery.dynatable.css">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
	
		<script src="js/Chart.min.js"></script>
		<script src="js/jquery-1.11.3.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/utils.js"></script>
		<script src="js/jquery.dynatable.js"></script>
		
		<script>
			<!-- common config -->
		
		</script>

	</head>
<script>
	$(document).ready(function() {

		// PIE CHART
		var ANDHWOCtx = $("#ANDHWO").get(0).getContext("2d");
	
		var chartData = [];
		var labelData = [];
		$.get("/api/ANDHWO", function(data) {
			var color = "#FF2211";
			for(var i=0; i < data.length; i++) {
				chartData.push( data[i].counter );
				
				labelData.push( data[i].user_host );
			}
			
			new Chart(ANDHWOCtx).Bar( 
				{ 
					labels: labelData, 
					datasets: [ {
			            label: "",
			            fillColor: color,
			            strokeColor: color,
			            highlightFill: color,
			            highlightStroke: color,
			            data: chartData
		        	} ]
	         } );
		}); //end get


		//END PIE CHART
		
		//TABLE
		
		
		var tableData = [];
		$.get("/api/FGHIWW", function(data) {
			$('#topQuery').dynatable({
				dataset: {
		        	records: data
		      	}
		    });
		}); //end get
		
		//END TABLE
		
		//TABLE
		
		
		var tableData = [];
		$.get("/api/SHDYTQ", function(data) {
			$('#allQuery').dynatable({
				dataset: {
		        	records: data
		      	}
		    });
		}); //end get
		
		
		//END TABLE
		
	}); //document ready close
</script>

<body>
	<div class="container">
		<h1>MYSQL - Statistics</h1>
		<div class="row">
			<div class="col-md-6">
				<h2>Top Host</h2>
				<canvas id="ANDHWO" width="400" height="400"></canvas>
			</div>
		</div>
		
		<div class="row">
			<div class="col-md-12">
				<h2>Top Query</h2>
				<table class="table table-striped" id="topQuery">
				  <thead>
				    <th>user_host</th>
				    <th>argument</th>
				    <th>counter</th>
				  </thead>
				  <tbody>
				  </tbody>
				</table>
			</div>
		</div>
		
		<div class="row">
			<div class="col-md-12">
				<h2>All Query</h2>
				<table class="table table-striped" id="allQuery">
				  <thead>
				    <th>argument</th>
				    <th>server_id</th>
				    <th>command_type</th>
				    <th>user_host</th>
				    <th>event_time</th>
				  </thead>
				  <tbody>
				  </tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>